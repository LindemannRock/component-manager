{#
    @description A flexible button component with variants and sizes
    @category Forms
    @props {
        "label": {
            "type": "string",
            "required": true,
            "description": "Button text"
        },
        "variant": {
            "type": "string",
            "default": "primary",
            "enum": ["primary", "secondary", "outline", "ghost"],
            "description": "Button style variant"
        },
        "size": {
            "type": "string",
            "default": "md",
            "enum": ["sm", "md", "lg"],
            "description": "Button size"
        },
        "href": {
            "type": "string",
            "required": false,
            "description": "URL for link buttons"
        },
        "type": {
            "type": "string",
            "default": "button",
            "enum": ["button", "submit", "reset"],
            "description": "Button type attribute"
        },
        "disabled": {
            "type": "boolean",
            "default": false,
            "description": "Whether the button is disabled"
        },
        "class": {
            "type": "string",
            "required": false,
            "description": "Additional CSS classes"
        }
    }
#}

{% set baseClasses = 'inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2' %}

{% set sizeClasses = {
    'sm': 'px-3 py-1.5 text-sm',
    'md': 'px-4 py-2 text-base',
    'lg': 'px-6 py-3 text-lg'
} %}

{% set variantClasses = {
    'primary': 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
    'secondary': 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500',
    'outline': 'border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500',
    'ghost': 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500'
} %}

{% set classes = [
    baseClasses,
    sizeClasses[size] ?? sizeClasses.md,
    variantClasses[variant] ?? variantClasses.primary,
    disabled ? 'opacity-50 cursor-not-allowed' : '',
    class ?? ''
]|filter(v => v)|join(' ') %}

{% if href %}
    <a href="{{ href }}" class="{{ classes }}"{% if disabled %} aria-disabled="true" tabindex="-1"{% endif %}>
        {{ label }}
    </a>
{% else %}
    <button 
        type="{{ type }}" 
        class="{{ classes }}"
        {% if disabled %}disabled{% endif %}
    >
        {{ label }}
    </button>
{% endif %}